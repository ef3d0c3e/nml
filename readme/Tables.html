<!DOCTYPE HTML><html><head><meta charset="UTF-8"><title>NML | Tables</title><link rel="stylesheet" href="../style.css"></head><body><div class="layout"><input id="navbar-checkbox" class="toggle" type="checkbox" style="display:none" checked><div id="navbar"><ul><li  class="navbar-entry"><a href="Getting Started.html">Getting Started</a></li><li  class="navbar-entry"><a href="Sections.html">Sections</a></li><li  class="navbar-entry"><a href="Variables.html">Variables</a></li><li  class="navbar-entry"><a href="References.html">References</a></li><li  class="navbar-entry"><a href="Imports.html">Imports</a></li><li  class="navbar-entry"><a href="Raw.html">Raw</a></li><li  class="navbar-entry"><a href="Changelog.html">Changelog</a></li><li  class="navbar-entry"><a href="Comments.html">Comments</a></li><li><details><summary class="navbar-category">External Tools</summary><ul><li  class="navbar-entry"><a href="Graphviz.html">Graphviz</a></li><li  class="navbar-entry"><a href="LaTeX.html">LaTeX</a></li></ul></details></li><li><details><summary class="navbar-category">Styles</summary><ul><li  class="navbar-entry"><a href="Basic Styles.html">Basic</a></li><li  class="navbar-entry"><a href="Basic Layouts.html">Layouts</a></li><li  class="navbar-entry"><a href="User-Defined Styles.html">User-Defined</a></li></ul></details></li><li><details open><summary class="navbar-category">Blocks</summary><ul><li  class="navbar-entry"><a href="Blocks.html">Blocks</a></li><li  class="navbar-entry"><a href="Code.html">Code</a></li><li  class="navbar-entry"><a href="Lists.html">Lists</a></li><li  class="navbar-entry-current"><a href="Tables.html">Tables</a></li></ul></details></li><li><details><summary class="navbar-category">Lua</summary><ul><li  class="navbar-entry"><a href="Lua Basics.html">Lua</a></li></ul></details></li></ul></div><label for="navbar-checkbox" class="navbar-checkbox-label">&#9776;</label><div class="content"><div class="toc"><span>Table of Content</span><ol><li value="1"><a href="#Tables">Tables</a></li><li value="2"><a href="#Cell_Properties">Cell Properties</a></li><li value="3"><a href="#Tables_to_Lua">Tables to Lua</a></li><li value="4"><a href="#Current_limitations">Current limitations</a></li></div><h1 id="Tables">1. Tables <a class="section-link" href="#Tables">ðŸ”— </a> </h1><p>NML support for tables is still very limited, though it is possible to build complex layouts like this one:</p><div class="media"><div id="table-1" class="medium"><table><tr><td><b>First column</b> </td><td colspan="2"><b>Second column</b> </td></tr><tr><td style="text-align: center;">Centered </td><td>B </td><td>C </td></tr><tr><td colspan="2">1 </td><td>2 </td></tr></table><p class="medium-refname">(1) Sample table</p></div></div><details class="spoiler"><summary>Given by the following code</summary><div class="code-block"><div class="code-block-content"><table class="code-block-table" cellspacing="0"><tr><td class="code-block-line"><pre><br></pre></td></tr><tr><td class="code-block-line"><pre><span style="color:#c0c5ce;">:TABLE {sample_table} Sample table</span></pre></td></tr><tr><td class="code-block-line"><pre><span style="color:#c0c5ce;">| **First column**       |:hspan=2: **Second column** |</span></pre></td></tr><tr><td class="code-block-line"><pre><span style="color:#c0c5ce;">|:align=center: Centered | B            | C           |</span></pre></td></tr><tr><td class="code-block-line"><pre><span style="color:#c0c5ce;">|:hspan=2: 1                            | 2           |</span></pre></td></tr></table></div></div></details><p>When a line starts with <em>|</em> it is considered as the start of a table. Other <em>|</em>'s delimit the cells of a table row. You can also use <em>:TABLE {refname} Title</em> before the first line of the table, to make the table into a referenceable element. Tables declared like this are displayed as <em>media</em>.</p><h1 id="Cell_Properties">2. Cell Properties <a class="section-link" href="#Cell_Properties">ðŸ”— </a> </h1><p>On each cell of a table, you may specify properties for the cell, row, column or table. Properties are specified between <em>:</em>'s at the start of a cell. It is not possible to redefine an already present property (e.g setting the table text-alignment twice). Below are the supported properties:</p><ul><li><b>Cells</b></li><ol><li value="1"><em>align</em> The text-alignment of the cell</li><li value="2"><em>hspan</em> The horizontal span of the cell (1 if unset)</li><li value="3"><em>vspan</em> The vertical span of the cell (1 if unset)</li></ol><li><b>Rows</b> <i>Cells will inherit properties from their parent row</i></li><ol><li value="1"><em>align</em> The text-alignment of the row</li><li value="2"><em>rvspan</em> The vertical span of the row (1 if unset)</li></ol><li><b>Columns</b> <i>Cells will inherit properties from their parent column</i></li><ol><li value="1"><em>chspan</em> The horizontal span of the column (1 if unset)</li></ol><li><b>Table</b> <i>Each cell will inherit these properties</i></li><ol><li value="1"><em>align</em> Text-alignment for the entire table</li></ol></ul><h1 id="Tables_to_Lua">3. Tables to Lua <a class="section-link" href="#Tables_to_Lua">ðŸ”— </a> </h1><p>You can export a table to use it inside a lua snippet. Using <em>:TABLE[export_as=table1]</em> will make the table available to lua as <em>nml.tables.table1</em>.</p><p><b>Example</b>:</p><div class="split-container"><div class="split"><p>Using Lua, you can perform computations on table rows, cells, etc.</p><table><tr><td>Length </td><td>Occurences </td></tr><tr><td>1.15 </td><td>357 </td></tr><tr><td>1.20 </td><td>143 </td></tr><tr><td>1.23 </td><td>72 </td></tr></table><p>Average = 1.1725699300699</p></div><div class="split"><p>Which is given by:</p><div class="code-block"><div class="code-block-content"><table class="code-block-table" cellspacing="0"><tr><td class="code-block-gutter"><pre><span>1</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">:TABLE[export_as=measures]</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>2</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">| Length | Occurences |</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>3</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">| 1.15   | 357        |</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>4</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">| 1.20   | 143        |</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>5</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">| 1.23   | 72         |</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>6</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">@&lt;main</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>7</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">function weighted_average(table, i, j)</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>8</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">	local weighted_sum = 0</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>9</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">	local total = 0</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>10</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">	for rowIndex, row in pairs(table) do</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>11</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">		if rowIndex ~= 1 then</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>12</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">			weighted_sum = weighted_sum + row[i] * row[j];</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>13</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">			total = total + row[j]</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>14</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">		end</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>15</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">	end</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>16</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">	return weighted_sum / total</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>17</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">end</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>18</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">&gt;@</span></pre></td></tr><tr><td class="code-block-gutter"><pre><span>19</span></pre></td><td class="code-block-line"><pre><br></pre></td></tr><tr><td class="code-block-gutter"><pre><span>20</span></pre></td><td class="code-block-line"><pre><span style="color:#c0c5ce;">Average = %&lt;&quot; weighted_average(nml.tables.measures, 1, 2)&gt;%</span></pre></td></tr></table></div></div></div></div><h1 id="Current_limitations">4. Current limitations <a class="section-link" href="#Current_limitations">ðŸ”— </a> </h1><p>Current known limitations for tables, may change in the future:</p><ul><li>Referenceable elements cannot be referenced if defined inside of a table.</li><li>Table layouts are limited and it is not possible to <em>split</em> a cell in half if it's parent column has a span of 2.</li></ul><p></p></div></div></body></html>